<HTML>
  <HEAD>
    <TITLE>asio Examples: services::logger_service&lt; Allocator &gt; Class Template Reference</TITLE>
    <LINK HREF="asio.css" REL="stylesheet" TYPE="text/css">
    <LINK HREF="tabs.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#FFFFFF">
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.6</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>Examples</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="files.html">File Index</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
<!-- Generated by Doxygen 1.4.5 -->
<div class="nav">
<a class="el" href="a00255.html">services</a>::<a class="el" href="a00206.html">logger_service</a></div>
<h1>services::logger_service&lt; Allocator &gt; Class Template Reference</h1><!-- doxytag: class="services::logger_service" --><!-- doxytag: inherits="boost::noncopyable" -->Inherits <a class="el" href="a00200.html">noncopyable</a>.
<p>
Collaboration diagram for services::logger_service&lt; Allocator &gt;:<p><center><img src="a00313.png" border="0" usemap="#a00314" alt="Collaboration graph"></center>
<map name="a00314">
<area href="a00200.html" shape="rect" coords="8,138,144,218" alt="">
<area doxygen="asio.doxytags:../reference/" href="../reference/a00093.html" shape="rect" coords="168,138,440,218" alt="">
<area href="a00200.html" shape="rect" coords="256,8,352,88" alt="">
</map>
<a href="a00080.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename Allocator = std::allocator&lt;void&gt;&gt;<br>
 class services::logger_service&lt; Allocator &gt;</h3>

Service implementation for the logger. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00017">17</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">asio::basic_demuxer</a>&lt;<br>
 <a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00112.html">asio::demuxer_service</a>&lt; Allocator &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#a88158c5007f6c3cba0dcaea6724b104">demuxer_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The demuxer type for this service.  <a href="#a88158c5007f6c3cba0dcaea6724b104"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="a00207.html">logger_impl</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#0ac43ba128daec432ece8d7eaecacbcb">impl_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type for an implementation of the logger.  <a href="#0ac43ba128daec432ece8d7eaecacbcb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#dac4a43a604dea4aae7f0f79620fb23c">logger_service</a> (<a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a> &amp;demuxer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor creates a thread to run a private demuxer.  <a href="#dac4a43a604dea4aae7f0f79620fb23c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#4ef71f2ae6d6782561de149e690828be">~logger_service</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor shuts down the private demuxer.  <a href="#4ef71f2ae6d6782561de149e690828be"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#6afeb5e9a5b1a4fbbc83e784e9d07a99">demuxer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the demuxer associated with the service.  <a href="#6afeb5e9a5b1a4fbbc83e784e9d07a99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00207.html">impl_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#092ab980146904ff64511777eb414c07">null</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a null logger implementation.  <a href="#092ab980146904ff64511777eb414c07"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#0f1a50c5dc5a07d628bc29e092f5f5f6">create</a> (<a class="el" href="a00207.html">impl_type</a> &amp;impl, const std::string &amp;identifier)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new logger implementation.  <a href="#0f1a50c5dc5a07d628bc29e092f5f5f6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#d1d4b028b2d5459daa3e7db9940db65f">destroy</a> (<a class="el" href="a00207.html">impl_type</a> &amp;impl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a logger implementation.  <a href="#d1d4b028b2d5459daa3e7db9940db65f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#f390314e6eeab25eb966da4268e84e37">use_file</a> (<a class="el" href="a00207.html">impl_type</a> &amp;impl, const std::string &amp;file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the output file for the logger. The current implementation sets the output file for all logger instances, and so the impl parameter is not actually needed. It is retained here to illustrate how service functions are typically defined.  <a href="#f390314e6eeab25eb966da4268e84e37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#c7806fe64870d838dfb28b2de2ced1be">log</a> (<a class="el" href="a00207.html">impl_type</a> &amp;impl, const std::string &amp;message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log a message.  <a href="#c7806fe64870d838dfb28b2de2ced1be"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#f580d644a2b46922bf4f9c5c88c098bb">use_file_impl</a> (const std::string &amp;file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function used to open the output file from within the private demuxer's thread.  <a href="#f580d644a2b46922bf4f9c5c88c098bb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#7929f791320426426ba41a57e832faf5">log_impl</a> (const std::string &amp;text)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function used to log a message from within the private demuxer's thread.  <a href="#7929f791320426426ba41a57e832faf5"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#f77a6a6d80408f56480200728f4bfb33">demuxer_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The demuxer that owns this service.  <a href="#f77a6a6d80408f56480200728f4bfb33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#b7fc4e92cd04c81ff1bbe3a506c330f8">work_demuxer_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private demuxer used for performing logging operations.  <a href="#b7fc4e92cd04c81ff1bbe3a506c330f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::scoped_ptr&lt; typename <br>
demuxer_type::work &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#8cd560377a61d27b825b766d86c3dedc">work_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Work for the private demuxer to perform. If we do not give the demuxer some work to do then the demuxer::run() function will exit immediately.  <a href="#8cd560377a61d27b825b766d86c3dedc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::scoped_ptr&lt; <a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00147.html">asio::thread</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#9b867da8166ce7c351eea0a8612fb26b">work_thread_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thread used for running the work demuxer's run loop.  <a href="#9b867da8166ce7c351eea0a8612fb26b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::ofstream&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html#4f62a9d3eb0a311c9af5dbb245a43295">ofstream_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The file to which log messages will be written.  <a href="#4f62a9d3eb0a311c9af5dbb245a43295"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00207.html">logger_impl</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The backend implementation of a logger.  <a href="a00207.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="a88158c5007f6c3cba0dcaea6724b104"></a><!-- doxytag: member="services::logger_service::demuxer_type" ref="a88158c5007f6c3cba0dcaea6724b104" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">asio::basic_demuxer</a>&lt; <a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00112.html">asio::demuxer_service</a>&lt;Allocator&gt; &gt; <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The demuxer type for this service. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00023">23</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0ac43ba128daec432ece8d7eaecacbcb"></a><!-- doxytag: member="services::logger_service::impl_type" ref="0ac43ba128daec432ece8d7eaecacbcb" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">typedef <a class="el" href="a00207.html">logger_impl</a>* <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00207.html">impl_type</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The type for an implementation of the logger. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00033">33</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="dac4a43a604dea4aae7f0f79620fb23c"></a><!-- doxytag: member="services::logger_service::logger_service" ref="dac4a43a604dea4aae7f0f79620fb23c" args="(demuxer_type &amp;demuxer)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html">logger_service</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>demuxer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor creates a thread to run a private demuxer. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00036">36</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00037"></a>00037     : <a class="code" href="a00206.html#f77a6a6d80408f56480200728f4bfb33">demuxer_</a>(<a class="code" href="a00206.html#6afeb5e9a5b1a4fbbc83e784e9d07a99">demuxer</a>),
<a name="l00038"></a>00038       <a class="code" href="a00206.html#b7fc4e92cd04c81ff1bbe3a506c330f8">work_demuxer_</a>(),
<a name="l00039"></a>00039       <a class="code" href="a00206.html#8cd560377a61d27b825b766d86c3dedc">work_</a>(<span class="keyword">new</span> <span class="keyword">typename</span> demuxer_type::work(<a class="code" href="a00206.html#b7fc4e92cd04c81ff1bbe3a506c330f8">work_demuxer_</a>)),
<a name="l00040"></a>00040       <a class="code" href="a00206.html#9b867da8166ce7c351eea0a8612fb26b">work_thread_</a>(<span class="keyword">new</span> <a class="codeRef" doxygen="asio.doxytags:../reference/" href="../reference/a00147.html">asio::thread</a>(
<a name="l00041"></a>00041             boost::bind(&amp;<a class="codeRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html#7fd10941fde8cdff606799b100207712">demuxer_type::run</a>, &amp;<a class="code" href="a00206.html#b7fc4e92cd04c81ff1bbe3a506c330f8">work_demuxer_</a>)))
<a name="l00042"></a>00042   {
<a name="l00043"></a>00043   }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="4ef71f2ae6d6782561de149e690828be"></a><!-- doxytag: member="services::logger_service::~logger_service" ref="4ef71f2ae6d6782561de149e690828be" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::~<a class="el" href="a00206.html">logger_service</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor shuts down the private demuxer. 
<p>
Indicate that we have finished with the private demuxer. Its demuxer::run() function will exit once all other work has completed. 
<p>
Definition at line <a class="el" href="a00282.html#l00046">46</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047   {
<a name="l00050"></a>00050     <a class="code" href="a00206.html#8cd560377a61d27b825b766d86c3dedc">work_</a>.reset();
<a name="l00051"></a>00051     <span class="keywordflow">if</span> (<a class="code" href="a00206.html#9b867da8166ce7c351eea0a8612fb26b">work_thread_</a>)
<a name="l00052"></a>00052       <a class="code" href="a00206.html#9b867da8166ce7c351eea0a8612fb26b">work_thread_</a>-&gt;join();
</pre></div>
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6afeb5e9a5b1a4fbbc83e784e9d07a99"></a><!-- doxytag: member="services::logger_service::demuxer" ref="6afeb5e9a5b1a4fbbc83e784e9d07a99" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a>&amp; <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::demuxer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the demuxer associated with the service. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00055">55</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00057"></a>00057   {
<a name="l00058"></a>00058     <span class="keywordflow">return</span> <a class="code" href="a00206.html#f77a6a6d80408f56480200728f4bfb33">demuxer_</a>;
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="092ab980146904ff64511777eb414c07"></a><!-- doxytag: member="services::logger_service::null" ref="092ab980146904ff64511777eb414c07" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="a00207.html">impl_type</a> <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::null           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return a null logger implementation. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00061">61</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00063"></a>00063   {
<a name="l00064"></a>00064     <span class="keywordflow">return</span> 0;
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="0f1a50c5dc5a07d628bc29e092f5f5f6"></a><!-- doxytag: member="services::logger_service::create" ref="0f1a50c5dc5a07d628bc29e092f5f5f6" args="(impl_type &amp;impl, const std::string &amp;identifier)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::create           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00207.html">impl_type</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>impl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>identifier</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new logger implementation. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00067">67</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00069"></a>00069   {
<a name="l00070"></a>00070     impl = <span class="keyword">new</span> logger_impl(identifier);
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d1d4b028b2d5459daa3e7db9940db65f"></a><!-- doxytag: member="services::logger_service::destroy" ref="d1d4b028b2d5459daa3e7db9940db65f" args="(impl_type &amp;impl)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::destroy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00207.html">impl_type</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>impl</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy a logger implementation. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00073">73</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00075"></a>00075   {
<a name="l00076"></a>00076     <span class="keyword">delete</span> impl;
<a name="l00077"></a>00077     impl = <a class="code" href="a00206.html#092ab980146904ff64511777eb414c07">null</a>();
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="f390314e6eeab25eb966da4268e84e37"></a><!-- doxytag: member="services::logger_service::use_file" ref="f390314e6eeab25eb966da4268e84e37" args="(impl_type &amp;impl, const std::string &amp;file)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::use_file           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00207.html">impl_type</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>impl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the output file for the logger. The current implementation sets the output file for all logger instances, and so the impl parameter is not actually needed. It is retained here to illustrate how service functions are typically defined. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00080">80</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00085"></a>00085   {
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="c7806fe64870d838dfb28b2de2ced1be"></a><!-- doxytag: member="services::logger_service::log" ref="c7806fe64870d838dfb28b2de2ced1be" args="(impl_type &amp;impl, const std::string &amp;message)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::log           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00207.html">impl_type</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>impl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Log a message. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00087">87</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00092"></a>00092   {
<a name="l00093"></a>00093     <span class="comment">// Format the text to be logged.</span>
<a name="l00094"></a>00094     std::ostringstream os;
<a name="l00095"></a>00095     os &lt;&lt; boost::posix_time::microsec_clock::universal_time();
<a name="l00096"></a>00096     os &lt;&lt; <span class="stringliteral">" - "</span> &lt;&lt; impl-&gt;identifier &lt;&lt; <span class="stringliteral">" - "</span> &lt;&lt; message;
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="f580d644a2b46922bf4f9c5c88c098bb"></a><!-- doxytag: member="services::logger_service::use_file_impl" ref="f580d644a2b46922bf4f9c5c88c098bb" args="(const std::string &amp;file)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::use_file_impl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>file</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper function used to open the output file from within the private demuxer's thread. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00100">100</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.<div class="fragment"><pre class="fragment"><a name="l00102"></a>00102        :
<a name="l00105"></a>00105   <span class="keywordtype">void</span> <a class="code" href="a00206.html#f580d644a2b46922bf4f9c5c88c098bb">use_file_impl</a>(<span class="keyword">const</span> std::string&amp; file)
  {
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="7929f791320426426ba41a57e832faf5"></a><!-- doxytag: member="services::logger_service::log_impl" ref="7929f791320426426ba41a57e832faf5" args="(const std::string &amp;text)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::log_impl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>text</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper function used to log a message from within the private demuxer's thread. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00108">108</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="f77a6a6d80408f56480200728f4bfb33"></a><!-- doxytag: member="services::logger_service::demuxer_" ref="f77a6a6d80408f56480200728f4bfb33" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a>&amp; <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html#f77a6a6d80408f56480200728f4bfb33">demuxer_</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The demuxer that owns this service. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00114">114</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b7fc4e92cd04c81ff1bbe3a506c330f8"></a><!-- doxytag: member="services::logger_service::work_demuxer_" ref="b7fc4e92cd04c81ff1bbe3a506c330f8" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00093.html">demuxer_type</a> <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html#b7fc4e92cd04c81ff1bbe3a506c330f8">work_demuxer_</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Private demuxer used for performing logging operations. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00117">117</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="8cd560377a61d27b825b766d86c3dedc"></a><!-- doxytag: member="services::logger_service::work_" ref="8cd560377a61d27b825b766d86c3dedc" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">boost::scoped_ptr&lt;typename demuxer_type::work&gt; <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html#8cd560377a61d27b825b766d86c3dedc">work_</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Work for the private demuxer to perform. If we do not give the demuxer some work to do then the demuxer::run() function will exit immediately. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00120">120</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.
<p>
Referenced by <a class="el" href="a00282.html#l00046">services::logger_service&lt; Allocator &gt;::~logger_service()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9b867da8166ce7c351eea0a8612fb26b"></a><!-- doxytag: member="services::logger_service::work_thread_" ref="9b867da8166ce7c351eea0a8612fb26b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">boost::scoped_ptr&lt;<a class="elRef" doxygen="asio.doxytags:../reference/" href="../reference/a00147.html">asio::thread</a>&gt; <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html#9b867da8166ce7c351eea0a8612fb26b">work_thread_</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread used for running the work demuxer's run loop. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00123">123</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.
<p>
Referenced by <a class="el" href="a00282.html#l00046">services::logger_service&lt; Allocator &gt;::~logger_service()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4f62a9d3eb0a311c9af5dbb245a43295"></a><!-- doxytag: member="services::logger_service::ofstream_" ref="4f62a9d3eb0a311c9af5dbb245a43295" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Allocator = std::allocator&lt;void&gt;&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">std::ofstream <a class="el" href="a00206.html">services::logger_service</a>&lt; Allocator &gt;::<a class="el" href="a00206.html#4f62a9d3eb0a311c9af5dbb245a43295">ofstream_</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The file to which log messages will be written. 
<p>

<p>
Definition at line <a class="el" href="a00282.html#l00126">126</a> of file <a class="el" href="a00282.html">logger_service.hpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>services/<a class="el" href="a00282.html">logger_service.hpp</a></ul>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.6</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
  </BODY>
</HTML>
