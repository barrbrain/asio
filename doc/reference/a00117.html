<HTML>
  <HEAD>
    <TITLE>asio Reference: asio::basic_strand&lt; Service &gt; Class Template Reference</TITLE>
    <LINK HREF="asio.css" REL="stylesheet" TYPE="text/css">
    <LINK HREF="tabs.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#FFFFFF">
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.7</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>Reference</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="hierarchy.html">Class Hierarchy</A> |
            <A CLASS="qindex" HREF="classes.html">Class Index</A> |
            <A CLASS="qindex" HREF="functions.html">Member Index</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
<!-- Generated by Doxygen 1.4.7 -->
<div class="nav">
<a class="el" href="a00262.html">asio</a>::<a class="el" href="a00117.html">basic_strand</a></div>
<h1>asio::basic_strand&lt; Service &gt; Class Template Reference</h1><!-- doxytag: class="asio::basic_strand" --><!-- doxytag: inherits="asio::basic_io_object" -->Inherits <a class="el" href="a00108.html">asio::basic_io_object&lt; Service &gt;&lt; Service &gt;</a>.
<p>
Inheritance diagram for asio::basic_strand&lt; Service &gt;:<p><center><img src="a00331.png" border="0" usemap="#a00332" alt="Inheritance graph"></center>
<map name="a00332">
<area href="a00108.html" shape="rect" coords="7,82,301,109" alt="">
<area doxygen="external.doxytags:" href="noncopyable.html" shape="rect" coords="91,8,217,34" alt="">
</map>
<a href="a00011.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename Service = strand_service&gt;<br>
 class asio::basic_strand&lt; Service &gt;</h3>

Provides serialised handler execution. 
<p>
The <a class="el" href="a00117.html">basic_strand</a> class template provides the ability to post and dispatch handlers with the guarantee that none of those handlers will execute concurrently.<p>
Most applications will use the <a class="el" href="a00262.html#6b7ed9dbdc34fb690ffd6a01ef015c22">asio::strand</a> typedef.<p>
<dl compact><dt><b>Thread Safety:</b></dt><dd><em>Distinct</em> <em>objects:</em> Safe.<br>
 <em>Shared</em> <em>objects:</em> Safe.</dd></dl>
<dl compact><dt><b>Concepts:</b></dt><dd><a class="el" href="a00133.html">Dispatcher</a>. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef Service&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00108.html#6f5cde5fe7b2e0a8e6f96f08584d2aa5">service_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type of the service that will be used to provide I/O operations.  <a href="#6f5cde5fe7b2e0a8e6f96f08584d2aa5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef service_type::implementation_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00108.html#b72f7245597ff283525d80bf0ffa52fb">implementation_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The underlying implementation type of I/O object.  <a href="#b72f7245597ff283525d80bf0ffa52fb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00117.html#9fcfac1ee03ff23e29230282009e74a3">basic_strand</a> (<a class="el" href="a00140.html">asio::io_service</a> &amp;<a class="el" href="a00140.html">io_service</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#9fcfac1ee03ff23e29230282009e74a3"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00117.html#315683e8e81790c4bb556d6fe5d74772">dispatch</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the strand to invoke the given handler.  <a href="#315683e8e81790c4bb556d6fe5d74772"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00117.html#4dbe676eca5f3e6ac0b91accd31fb7fd">post</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the strand to invoke the given handler and return immediately.  <a href="#4dbe676eca5f3e6ac0b91accd31fb7fd"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unspecified&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00117.html#84c19020e0b4d2dcee114d27566bced2">wrap</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new handler that automatically dispatches the wrapped handler on the strand.  <a href="#84c19020e0b4d2dcee114d27566bced2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00140.html">asio::io_service</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00108.html#07646b3fbab85fb0e438a8a651461881">io_service</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the <a class="el" href="a00140.html">io_service</a> associated with the object.  <a href="#07646b3fbab85fb0e438a8a651461881"></a><br></td></tr>
</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="6f5cde5fe7b2e0a8e6f96f08584d2aa5"></a><!-- doxytag: member="asio::basic_strand::service_type" ref="6f5cde5fe7b2e0a8e6f96f08584d2aa5" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef Service <a class="el" href="a00108.html">asio::basic_io_object</a>&lt; Service &gt;::<a class="el" href="a00108.html#6f5cde5fe7b2e0a8e6f96f08584d2aa5">service_type</a><code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The type of the service that will be used to provide I/O operations. 
<p>

</div>
</div><p>
<a class="anchor" name="b72f7245597ff283525d80bf0ffa52fb"></a><!-- doxytag: member="asio::basic_strand::implementation_type" ref="b72f7245597ff283525d80bf0ffa52fb" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef service_type::implementation_type <a class="el" href="a00108.html">asio::basic_io_object</a>&lt; Service &gt;::<a class="el" href="a00108.html#b72f7245597ff283525d80bf0ffa52fb">implementation_type</a><code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The underlying implementation type of I/O object. 
<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9fcfac1ee03ff23e29230282009e74a3"></a><!-- doxytag: member="asio::basic_strand::basic_strand" ref="9fcfac1ee03ff23e29230282009e74a3" args="(asio::io_service &amp;io_service)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service = strand_service&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00117.html">asio::basic_strand</a>&lt; Service &gt;::<a class="el" href="a00117.html">basic_strand</a>           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00140.html">asio::io_service</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>io_service</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
Constructs the strand.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="a00140.html">io_service</a></em>&nbsp;</td><td>The <a class="el" href="a00140.html">io_service</a> object that the strand will use to dispatch handlers that are ready to be run. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="315683e8e81790c4bb556d6fe5d74772"></a><!-- doxytag: member="asio::basic_strand::dispatch" ref="315683e8e81790c4bb556d6fe5d74772" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service = strand_service&gt; </div>
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00117.html">asio::basic_strand</a>&lt; Service &gt;::dispatch           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request the strand to invoke the given handler. 
<p>
This function is used to ask the strand to execute the given handler.<p>
The strand object guarantees that only one handler executed through this strand will be invoked at a time. The handler may be executed inside this function if the guarantee can be met.<p>
The strand's guarantee is in addition to the guarantee provided by the underlying <a class="el" href="a00140.html">io_service</a>. The <a class="el" href="a00140.html">io_service</a> guarantees that the handler will only be called in a thread in which the io_service's run member function is currently being invoked.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be called. The strand will make a copy of the handler object as required. The function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(); 
</pre></div> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4dbe676eca5f3e6ac0b91accd31fb7fd"></a><!-- doxytag: member="asio::basic_strand::post" ref="4dbe676eca5f3e6ac0b91accd31fb7fd" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service = strand_service&gt; </div>
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00117.html">asio::basic_strand</a>&lt; Service &gt;::post           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request the strand to invoke the given handler and return immediately. 
<p>
This function is used to ask the strand to execute the given handler, but without allowing the strand to call the handler from inside this function.<p>
The strand object guarantees that only one handler executed through this strand will be invoked at a time. The strand's guarantee is in addition to the guarantee provided by the underlying <a class="el" href="a00140.html">io_service</a>. The <a class="el" href="a00140.html">io_service</a> guarantees that the handler will only be called in a thread in which the io_service's run member function is currently being invoked.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be called. The strand will make a copy of the handler object as required. The function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(); 
</pre></div> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="84c19020e0b4d2dcee114d27566bced2"></a><!-- doxytag: member="asio::basic_strand::wrap" ref="84c19020e0b4d2dcee114d27566bced2" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service = strand_service&gt; </div>
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unspecified <a class="el" href="a00117.html">asio::basic_strand</a>&lt; Service &gt;::wrap           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new handler that automatically dispatches the wrapped handler on the strand. 
<p>
This function is used to create a new handler function object that, when invoked, will automatically pass the wrapped handler to the strand's dispatch function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be wrapped. The strand will make a copy of the handler object as required. The function signature of the handler must be:<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(A1 a1, ... An an); 
</pre></div></td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A function object that, when invoked, passes the wrapped handler to the strand's dispatch function. Given a function object with the signature: <div class="fragment"><pre class="fragment"> R f(A1 a1, ... An an); 
</pre></div> If this function object is passed to the wrap function like so: <div class="fragment"><pre class="fragment"> <a class="code" href="a00262.html#6b7ed9dbdc34fb690ffd6a01ef015c22">strand</a>.wrap(f); 
</pre></div> then the return value is a function object with the signature <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> g(A1 a1, ... An an); 
</pre></div> that, when invoked, executes code equivalent to: <div class="fragment"><pre class="fragment"> <a class="code" href="a00262.html#6b7ed9dbdc34fb690ffd6a01ef015c22">strand</a>.dispatch(boost::bind(f, a1, ... an)); 
</pre></div> </dd></dl>

</div>
</div><p>
<a class="anchor" name="07646b3fbab85fb0e438a8a651461881"></a><!-- doxytag: member="asio::basic_strand::io_service" ref="07646b3fbab85fb0e438a8a651461881" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Service&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00140.html">asio::io_service</a>&amp; <a class="el" href="a00108.html">asio::basic_io_object</a>&lt; Service &gt;::<a class="el" href="a00140.html">io_service</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the <a class="el" href="a00140.html">io_service</a> associated with the object. 
<p>
This function may be used to obtain the <a class="el" href="a00140.html">io_service</a> object that the I/O object uses to dispatch handlers for asynchronous operations.<p>
<dl compact><dt><b>Returns:</b></dt><dd>A reference to the <a class="el" href="a00140.html">io_service</a> object that the I/O object will use to dispatch handlers. Ownership is not transferred to the caller. </dd></dl>

</div>
</div><p>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.7</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
  </BODY>
</HTML>
