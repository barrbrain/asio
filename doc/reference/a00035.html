<HTML>
  <HEAD>
    <TITLE>asio Reference: asio::io_service::strand Class Reference</TITLE>
    <LINK HREF="asio.css" REL="stylesheet" TYPE="text/css">
    <LINK HREF="tabs.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#FFFFFF">
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.8rc3</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>Reference</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="hierarchy.html">Class Hierarchy</A> |
            <A CLASS="qindex" HREF="classes.html">Class Index</A> |
            <A CLASS="qindex" HREF="functions.html">Member Index</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
<!-- Generated by Doxygen 1.5.1 -->
<div class="nav">
<a class="el" href="a00126.html">asio</a>::<a class="el" href="a00032.html">io_service</a>::<a class="el" href="a00035.html">strand</a></div>
<h1>asio::io_service::strand Class Reference</h1><!-- doxytag: class="asio::io_service::strand" --><a href="a00207.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Provides serialised handler execution. 
<p>
The <a class="el" href="a00035.html">io_service::strand</a> class provides the ability to post and dispatch handlers with the guarantee that none of those handlers will execute concurrently.<p>
<dl class="user" compact><dt><b>Thread Safety</b></dt><dd><em>Distinct</em> <em>objects:</em> Safe.<br>
 <em>Shared</em> <em>objects:</em> Safe.</dd></dl>
<dl class="user" compact><dt><b>Concepts:</b></dt><dd>Dispatcher. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#8f06eed4e6699a26bfcfdbd2feb1b7ff">strand</a> (<a class="el" href="a00032.html">asio::io_service</a> &amp;<a class="el" href="a00032.html">io_service</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#8f06eed4e6699a26bfcfdbd2feb1b7ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#798ddf5fc35c7ca14ff3d2be0bf8dfee">~strand</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#798ddf5fc35c7ca14ff3d2be0bf8dfee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00032.html">asio::io_service</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#0cc0563e108097591b070185406c99c3">io_service</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the <a class="el" href="a00032.html">io_service</a> associated with the strand.  <a href="#0cc0563e108097591b070185406c99c3"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00035.html#2ec4773f07af5d21541a6c6b14c2c86f">dispatch</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the strand to invoke the given handler.  <a href="#2ec4773f07af5d21541a6c6b14c2c86f"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00035.html#ac64b41bd7347cf6a49500e05f6ba38f">post</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request the strand to invoke the given handler and return immediately.  <a href="#ac64b41bd7347cf6a49500e05f6ba38f"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unspecified&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00035.html#ebaeb20a72830b4c6f4552fb30bff742">wrap</a> (Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new handler that automatically dispatches the wrapped handler on the strand.  <a href="#ebaeb20a72830b4c6f4552fb30bff742"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="8f06eed4e6699a26bfcfdbd2feb1b7ff"></a><!-- doxytag: member="asio::io_service::strand::strand" ref="8f06eed4e6699a26bfcfdbd2feb1b7ff" args="(asio::io_service &amp;io_service)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">asio::io_service::strand::strand           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00032.html">asio::io_service</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>io_service</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
Constructs the strand.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="a00032.html">io_service</a></em>&nbsp;</td><td>The <a class="el" href="a00032.html">io_service</a> object that the strand will use to dispatch handlers that are ready to be run. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="798ddf5fc35c7ca14ff3d2be0bf8dfee"></a><!-- doxytag: member="asio::io_service::strand::~strand" ref="798ddf5fc35c7ca14ff3d2be0bf8dfee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">asio::io_service::strand::~strand           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>
Destroys a strand.<p>
Handlers posted through the strand that have not yet been invoked will still be dispatched in a way that meets the guarantee of non-concurrency. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0cc0563e108097591b070185406c99c3"></a><!-- doxytag: member="asio::io_service::strand::io_service" ref="0cc0563e108097591b070185406c99c3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00032.html">asio::io_service</a>&amp; asio::io_service::strand::io_service           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the <a class="el" href="a00032.html">io_service</a> associated with the strand. 
<p>
This function may be used to obtain the <a class="el" href="a00032.html">io_service</a> object that the strand uses to dispatch handlers for asynchronous operations.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A reference to the <a class="el" href="a00032.html">io_service</a> object that the strand will use to dispatch handlers. Ownership is not transferred to the caller. </dd></dl>

</div>
</div><p>
<a class="anchor" name="2ec4773f07af5d21541a6c6b14c2c86f"></a><!-- doxytag: member="asio::io_service::strand::dispatch" ref="2ec4773f07af5d21541a6c6b14c2c86f" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void asio::io_service::strand::dispatch           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request the strand to invoke the given handler. 
<p>
This function is used to ask the strand to execute the given handler.<p>
The strand object guarantees that handlers posted or dispatched through the strand will not be executed concurrently. The handler may be executed inside this function if the guarantee can be met. If this function is called from within a handler that was posted or dispatched through the same strand, then the new handler will be executed immediately.<p>
The strand's guarantee is in addition to the guarantee provided by the underlying <a class="el" href="a00032.html">io_service</a>. The <a class="el" href="a00032.html">io_service</a> guarantees that the handler will only be called in a thread in which the io_service's run member function is currently being invoked.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be called. The strand will make a copy of the handler object as required. The function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(); 
</pre></div> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ac64b41bd7347cf6a49500e05f6ba38f"></a><!-- doxytag: member="asio::io_service::strand::post" ref="ac64b41bd7347cf6a49500e05f6ba38f" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void asio::io_service::strand::post           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request the strand to invoke the given handler and return immediately. 
<p>
This function is used to ask the strand to execute the given handler, but without allowing the strand to call the handler from inside this function.<p>
The strand object guarantees that handlers posted or dispatched through the strand will not be executed concurrently. The strand's guarantee is in addition to the guarantee provided by the underlying <a class="el" href="a00032.html">io_service</a>. The <a class="el" href="a00032.html">io_service</a> guarantees that the handler will only be called in a thread in which the io_service's run member function is currently being invoked.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be called. The strand will make a copy of the handler object as required. The function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(); 
</pre></div> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ebaeb20a72830b4c6f4552fb30bff742"></a><!-- doxytag: member="asio::io_service::strand::wrap" ref="ebaeb20a72830b4c6f4552fb30bff742" args="(Handler handler)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handler&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unspecified asio::io_service::strand::wrap           </td>
          <td>(</td>
          <td class="paramtype">Handler&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new handler that automatically dispatches the wrapped handler on the strand. 
<p>
This function is used to create a new handler function object that, when invoked, will automatically pass the wrapped handler to the strand's dispatch function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be wrapped. The strand will make a copy of the handler object as required. The function signature of the handler must be:<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> handler(A1 a1, ... An an); 
</pre></div></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A function object that, when invoked, passes the wrapped handler to the strand's dispatch function. Given a function object with the signature: <div class="fragment"><pre class="fragment"> R f(A1 a1, ... An an); 
</pre></div> If this function object is passed to the wrap function like so: <div class="fragment"><pre class="fragment"> <a class="code" href="a00035.html#8f06eed4e6699a26bfcfdbd2feb1b7ff">strand</a>.wrap(f); 
</pre></div> then the return value is a function object with the signature <div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> g(A1 a1, ... An an); 
</pre></div> that, when invoked, executes code equivalent to: <div class="fragment"><pre class="fragment"> <a class="code" href="a00035.html#8f06eed4e6699a26bfcfdbd2feb1b7ff">strand</a>.dispatch(boost::bind(f, a1, ... an)); 
</pre></div> </dd></dl>

</div>
</div><p>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.8rc3</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
  </BODY>
</HTML>
