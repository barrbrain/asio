<HTML>
  <HEAD>
    <TITLE>asio Reference: asio::async_write_at_least_n</TITLE>
    <LINK HREF="asio.css" REL="stylesheet" TYPE="text/css">
    <LINK HREF="tabs.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#FFFFFF">
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.4</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>Reference</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="classes.html">Class Index</A> |
            <A CLASS="qindex" HREF="functions.html">Member Index</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
<!-- Generated by Doxygen 1.4.5 -->
<h1>asio::async_write_at_least_n</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Async_Write_Stream, typename Const_Buffers, typename Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00290.html#g28ac0286a580996c09a42dababc1333b">asio::async_write_at_least_n</a> (<a class="el" href="a00111.html">Async_Write_Stream</a> &amp;s, const <a class="el" href="a00128.html">Const_Buffers</a> &amp;buffers, std::size_t min_length, Handler handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start an asynchronous write of at least a certain number of bytes of data to a stream.  <a href="#g28ac0286a580996c09a42dababc1333b"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g28ac0286a580996c09a42dababc1333b"></a><!-- doxytag: member="asio::async_write_at_least_n" ref="g28ac0286a580996c09a42dababc1333b" args="(Async_Write_Stream &amp;s, const Const_Buffers &amp;buffers, std::size_t min_length, Handler handler)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Async_Write_Stream, typename Const_Buffers, typename Handler&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void asio::async_write_at_least_n           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00111.html">Async_Write_Stream</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="a00128.html">Const_Buffers</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>min_length</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>Handler&nbsp;</td>
          <td class="mdname" nowrap> <em>handler</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start an asynchronous write of at least a certain number of bytes of data to a stream. 
<p>
This function is used to asynchronously write at least a certain number of bytes of data to a stream. The function call always returns immediately. The asynchronous operation will continue until one of the following conditions is true:<p>
<ul>
<li>The total bytes transferred is greater than or equal to the specified minimum size.</li>
</ul>
<ul>
<li>All of the data in the supplied buffers has been written. That is, the total bytes transferred is equal to the sum of the buffer sizes.</li>
</ul>
<ul>
<li>An error occurred.</li>
</ul>
This function is implemented in terms of one or more calls to <a class="el" href="a00286.html">asio::async_write</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The stream to which the data is to be written. The type must support the <a class="el" href="a00111.html">Async_Write_Stream</a> concept.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffers</em>&nbsp;</td><td>One or more buffers containing the data to be written. Although the buffers object may be copied as necessary, ownership of the underlying memory blocks is retained by the caller, which must guarantee that they remain valid until the handler is called.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>min_length</em>&nbsp;</td><td>The minimum size of data to be written, in bytes.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>The handler to be called when the write operation completes. Copies will be made of the handler as required. The equivalent function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Error&gt;
 <span class="keywordtype">void</span> handler(
   <span class="keyword">const</span> Error&amp; error,                 <span class="comment">// Result of operation (the actual type</span>
                                       <span class="comment">// is dependent on the underlying</span>
                                       <span class="comment">// stream's write operation).</span>

   std::size_t last_bytes_transferred, <span class="comment">// Number of bytes transferred on last</span>
                                       <span class="comment">// write operation.</span>

   std::size_t total_bytes_transferred <span class="comment">// Total number of bytes successfully</span>
                                       <span class="comment">// transferred. If an error occurred</span>
                                       <span class="comment">// this will be less than the minimum</span>
                                       <span class="comment">// size.</span>
 ); 
</pre></div></td></tr>
  </table>
</dl>
<dl compact><dt><b>Example:</b></dt><dd>To write a single data buffer use the <a class="el" href="a00277.html">asio::buffers</a> function as follows: <div class="fragment"><pre class="fragment"> <a class="code" href="a00290.html#g28ac0286a580996c09a42dababc1333b">asio::async_write_at_least_n</a>(s,
     <a class="code" href="a00277.html#g6972033f869850d9a403f4434c991fe4">asio::buffers</a>(data, size), min_length, handler); 
</pre></div> See the <a class="el" href="a00277.html">asio::buffers</a> documentation for information on writing multiple buffers in one go, and how to use it with arrays, boost::array or std::vector. </dd></dl>
    </td>
  </tr>
</table>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.4</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
  </BODY>
</HTML>
