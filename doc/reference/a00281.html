<HTML>
  <HEAD>
    <TITLE>asio Reference: asio::read_n</TITLE>
    <LINK HREF="asio.css" REL="stylesheet" TYPE="text/css">
    <LINK HREF="tabs.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#FFFFFF">
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.4</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>Reference</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="classes.html">Class Index</A> |
            <A CLASS="qindex" HREF="functions.html">Member Index</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
<!-- Generated by Doxygen 1.4.5 -->
<h1>asio::read_n</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Sync_Read_Stream, typename Mutable_Buffers&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">std::size_t&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00281.html#g4960651e51196ea1bb3b0621ede932c3">asio::read_n</a> (<a class="el" href="a00175.html">Sync_Read_Stream</a> &amp;s, const <a class="el" href="a00157.html">Mutable_Buffers</a> &amp;buffers, std::size_t *total_bytes_transferred=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to read a certain amount of data from a stream before returning.  <a href="#g4960651e51196ea1bb3b0621ede932c3"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename Sync_Read_Stream, typename Mutable_Buffers, typename Error_Handler&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">std::size_t&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00281.html#gcf20ccae638587a5ac66be680dd77b1f">asio::read_n</a> (<a class="el" href="a00175.html">Sync_Read_Stream</a> &amp;s, const <a class="el" href="a00157.html">Mutable_Buffers</a> &amp;buffers, std::size_t *total_bytes_transferred, Error_Handler error_handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to read a certain amount of data from a stream before returning.  <a href="#gcf20ccae638587a5ac66be680dd77b1f"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g4960651e51196ea1bb3b0621ede932c3"></a><!-- doxytag: member="asio::read_n" ref="g4960651e51196ea1bb3b0621ede932c3" args="(Sync_Read_Stream &amp;s, const Mutable_Buffers &amp;buffers, std::size_t *total_bytes_transferred=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Sync_Read_Stream, typename Mutable_Buffers&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">std::size_t asio::read_n           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00175.html">Sync_Read_Stream</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="a00157.html">Mutable_Buffers</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>total_bytes_transferred</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Attempt to read a certain amount of data from a stream before returning. 
<p>
This function is used to read a certain number of bytes of data from a stream. The call will block until one of the following conditions is true:<p>
<ul>
<li>The supplied buffers are full. That is, the total bytes transferred is equal to the sum of the buffer sizes.</li>
</ul>
<ul>
<li>The stream was closed cleanly.</li>
</ul>
<ul>
<li>An error occurred.</li>
</ul>
This function is implemented in terms of one or more calls to <a class="el" href="a00279.html">asio::read</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The stream from which the data is to be read. The type must support the <a class="el" href="a00175.html">Sync_Read_Stream</a> concept.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffers</em>&nbsp;</td><td>One or more buffers into which the data will be read. The sum of the buffer sizes indicates the number of bytes to read from the stream.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>total_bytes_transferred</em>&nbsp;</td><td>An optional output parameter that receives the total number of bytes copied into the buffers. If the stream was closed, or an error occurred, this will be less than the sum of the buffer sizes.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes transferred on the last read, or 0 if the stream was closed cleanly.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Throws an exception on failure. The type of the exception depends on the underlying stream's read operation.</dd></dl>
<dl compact><dt><b>Example:</b></dt><dd>To read into a single data buffer use the <a class="el" href="a00277.html">asio::buffers</a> function as follows: <div class="fragment"><pre class="fragment"> <a class="code" href="a00281.html#g4960651e51196ea1bb3b0621ede932c3">asio::read_n</a>(s, <a class="code" href="a00277.html#g6972033f869850d9a403f4434c991fe4">asio::buffers</a>(data, size)); 
</pre></div> See the <a class="el" href="a00277.html">asio::buffers</a> documentation for information on reading into multiple buffers in one go, and how to use it with arrays, boost::array or std::vector. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="gcf20ccae638587a5ac66be680dd77b1f"></a><!-- doxytag: member="asio::read_n" ref="gcf20ccae638587a5ac66be680dd77b1f" args="(Sync_Read_Stream &amp;s, const Mutable_Buffers &amp;buffers, std::size_t *total_bytes_transferred, Error_Handler error_handler)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;typename Sync_Read_Stream, typename Mutable_Buffers, typename Error_Handler&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">std::size_t asio::read_n           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="a00175.html">Sync_Read_Stream</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="a00157.html">Mutable_Buffers</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>std::size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>total_bytes_transferred</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>Error_Handler&nbsp;</td>
          <td class="mdname" nowrap> <em>error_handler</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Attempt to read a certain amount of data from a stream before returning. 
<p>
This function is used to read a certain number of bytes of data from a stream. The call will block until one of the following conditions is true:<p>
<ul>
<li>The supplied buffers are full. That is, the total bytes transferred is equal to the sum of the buffer sizes.</li>
</ul>
<ul>
<li>The stream was closed cleanly.</li>
</ul>
<ul>
<li>An error occurred.</li>
</ul>
This function is implemented in terms of one or more calls to <a class="el" href="a00279.html">asio::read</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The stream from which the data is to be read. The type must support the <a class="el" href="a00175.html">Sync_Read_Stream</a> concept.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffers</em>&nbsp;</td><td>One or more buffers into which the data will be read. The sum of the buffer sizes indicates the number of bytes to read from the stream.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>total_bytes_transferred</em>&nbsp;</td><td>An optional output parameter that receives the total number of bytes copied into the buffers. If the stream was closed, or an error occurred, this will be less than the sum of the buffer sizes.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_handler</em>&nbsp;</td><td>The handler to be called when an error occurs. Copies will be made of the handler as required. The equivalent function signature of the handler must be: <div class="fragment"><pre class="fragment"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Error&gt;
 <span class="keywordtype">void</span> error_handler(
   <span class="keyword">const</span> Error&amp; error <span class="comment">// Result of operation (the actual type is dependent on</span>
                      <span class="comment">// the underlying stream's read operation).</span>
 ); 
</pre></div></td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of bytes transferred on the last read, or 0 if the stream was closed cleanly. </dd></dl>
    </td>
  </tr>
</table>
    <DIV CLASS="qindex">
      <TABLE BORDER="0" WIDTH="100%">
        <TR>
          <TD ALIGN="LEFT">
            <B>asio 0.3.4</B>
          </TD>
          <TD ALIGN="RIGHT">
            <A CLASS="qindex" HREF="../index.html">Home</A> |
            <A CLASS="qindex" HREF="../reference/index.html">Reference</A> |
            <A CLASS="qindex" HREF="../tutorial/index.html">Tutorial</A> |
            <A CLASS="qindex" HREF="../examples/index.html">Examples</A> |
            <A CLASS="qindex" HREF="../design/index.html">Design</A>
          </TD>
        </TR>
      </TABLE>
    </DIV>
  </BODY>
</HTML>
